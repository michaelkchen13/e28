{"version":3,"sources":["webpack:///./src/components/pages/AccountPage.vue?1179","webpack:///src/components/pages/AccountPage.vue","webpack:///./src/components/pages/AccountPage.vue?d05f","webpack:///./src/components/pages/AccountPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","user","name","on","logout","directives","rawName","value","data","expression","domProps","$event","validateLogin","target","composing","$set","errors","email","_e","password","login","_l","error","index","key","registerLoginToggle","validateRegister","register","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAAEN,EAAQ,KAAEI,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,KAAK,CAACE,MAAM,CAAC,YAAY,oBAAoB,CAACN,EAAIQ,GAAG,OAAOR,EAAIS,GAAGT,EAAIU,KAAKC,MAAM,OAAOP,EAAG,SAAS,CAACE,MAAM,CAAC,YAAY,iBAAiBM,GAAG,CAAC,MAAQZ,EAAIa,SAAS,CAACb,EAAIQ,GAAG,cAAcJ,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,cAAc,CAAEN,EAAa,UAAEI,EAAG,MAAM,CAACA,EAAG,KAAK,CAACG,YAAY,gBAAgB,CAACP,EAAIQ,GAAG,WAAWJ,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACH,KAAK,QAAQI,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAU,MAAEC,WAAW,eAAeZ,MAAM,CAAC,KAAO,OAAO,YAAY,eAAea,SAAS,CAAC,MAASnB,EAAIiB,KAAU,OAAGL,GAAG,CAAC,KAAO,SAASQ,GAAQ,OAAOpB,EAAIqB,iBAAiB,MAAQ,SAASD,GAAWA,EAAOE,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,QAASG,EAAOE,OAAON,aAAchB,EAAIyB,QAAU,UAAWzB,EAAIyB,OAAQrB,EAAG,cAAc,CAACG,YAAY,QAAQD,MAAM,CAAC,OAASN,EAAIyB,OAAOC,SAAS1B,EAAI2B,MAAM,GAAGvB,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,cAAcJ,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACH,KAAK,QAAQI,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAa,SAAEC,WAAW,kBAAkBZ,MAAM,CAAC,KAAO,WAAW,YAAY,kBAAkBa,SAAS,CAAC,MAASnB,EAAIiB,KAAa,UAAGL,GAAG,CAAC,KAAO,SAASQ,GAAQ,OAAOpB,EAAIqB,iBAAiB,MAAQ,SAASD,GAAWA,EAAOE,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,WAAYG,EAAOE,OAAON,aAAchB,EAAIyB,QAAU,aAAczB,EAAIyB,OAAQrB,EAAG,cAAc,CAACG,YAAY,QAAQD,MAAM,CAAC,OAASN,EAAIyB,OAAOG,YAAY5B,EAAI2B,MAAM,GAAGvB,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,SAAS,CAACE,MAAM,CAAC,YAAY,gBAAgBM,GAAG,CAAC,MAAQZ,EAAI6B,QAAQ,CAAC7B,EAAIQ,GAAG,aAAcR,EAAc,WAAEI,EAAG,KAAKJ,EAAI8B,GAAI9B,EAAc,YAAE,SAAS+B,EAAMC,GAAO,OAAO5B,EAAG,KAAK,CAAC6B,IAAID,EAAMzB,YAAY,SAAS,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGsB,GAAO,UAAS,GAAG/B,EAAI2B,KAAKvB,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,IAAI,CAACJ,EAAIQ,GAAG,4BAA4BJ,EAAG,SAAS,CAACQ,GAAG,CAAC,MAAQZ,EAAIkC,sBAAsB,CAAClC,EAAIQ,GAAG,4BAA4BJ,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,KAAK,CAACG,YAAY,gBAAgB,CAACP,EAAIQ,GAAG,cAAcJ,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACH,KAAK,QAAQI,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAS,KAAEC,WAAW,cAAcZ,MAAM,CAAC,KAAO,OAAO,YAAY,uBAAuBa,SAAS,CAAC,MAASnB,EAAIiB,KAAS,MAAGL,GAAG,CAAC,KAAO,SAASQ,GAAQ,OAAOpB,EAAImC,oBAAoB,MAAQ,SAASf,GAAWA,EAAOE,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,OAAQG,EAAOE,OAAON,aAAchB,EAAIyB,QAAU,SAAUzB,EAAIyB,OAAQrB,EAAG,cAAc,CAACG,YAAY,QAAQD,MAAM,CAAC,OAASN,EAAIyB,OAAOd,QAAQX,EAAI2B,MAAM,GAAGvB,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,WAAWJ,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACH,KAAK,QAAQI,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAU,MAAEC,WAAW,eAAeZ,MAAM,CAAC,KAAO,OAAO,YAAY,wBAAwBa,SAAS,CAAC,MAASnB,EAAIiB,KAAU,OAAGL,GAAG,CAAC,KAAO,SAASQ,GAAQ,OAAOpB,EAAImC,oBAAoB,MAAQ,SAASf,GAAWA,EAAOE,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,QAASG,EAAOE,OAAON,aAAchB,EAAIyB,QAAU,UAAWzB,EAAIyB,OAAQrB,EAAG,cAAc,CAACG,YAAY,QAAQD,MAAM,CAAC,OAASN,EAAIyB,OAAOC,SAAS1B,EAAI2B,MAAM,GAAGvB,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACJ,EAAIQ,GAAG,cAAcJ,EAAG,QAAQ,CAACU,WAAW,CAAC,CAACH,KAAK,QAAQI,QAAQ,UAAUC,MAAOhB,EAAIiB,KAAa,SAAEC,WAAW,kBAAkBZ,MAAM,CAAC,KAAO,WAAW,YAAY,2BAA2Ba,SAAS,CAAC,MAASnB,EAAIiB,KAAa,UAAGL,GAAG,CAAC,KAAO,SAASQ,GAAQ,OAAOpB,EAAImC,oBAAoB,MAAQ,SAASf,GAAWA,EAAOE,OAAOC,WAAqBvB,EAAIwB,KAAKxB,EAAIiB,KAAM,WAAYG,EAAOE,OAAON,aAAchB,EAAIyB,QAAU,aAAczB,EAAIyB,OAAQrB,EAAG,cAAc,CAACG,YAAY,QAAQD,MAAM,CAAC,OAASN,EAAIyB,OAAOG,YAAY5B,EAAI2B,MAAM,GAAGvB,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,SAAS,CAACE,MAAM,CAAC,YAAY,mBAAmBM,GAAG,CAAC,MAAQZ,EAAIoC,WAAW,CAACpC,EAAIQ,GAAG,gBAAiBR,EAAiB,cAAEI,EAAG,KAAKJ,EAAI8B,GAAI9B,EAAiB,eAAE,SAAS+B,EAAMC,GAAO,OAAO5B,EAAG,KAAK,CAAC6B,IAAID,EAAMzB,YAAY,SAAS,CAACP,EAAIQ,GAAG,IAAIR,EAAIS,GAAGsB,GAAO,UAAS,GAAG/B,EAAI2B,KAAKvB,EAAG,MAAM,CAACG,YAAY,gBAAgB,CAACH,EAAG,IAAI,CAACJ,EAAIQ,GAAG,8BAA8BJ,EAAG,SAAS,CAACQ,GAAG,CAAC,MAAQZ,EAAIkC,sBAAsB,CAAClC,EAAIQ,GAAG,4CACnpI6B,EAAkB,G,6CC0GtB,GACE,WAAF,CACI,cAAJ,QAEE,KAJF,WAKI,MAAJ,CACM,KAAN,CACQ,MAAR,2BACQ,SAAR,WACQ,KAAR,IAEM,OAAN,KACM,cAAN,KACM,WAAN,KACM,UAAN,GACM,WAAN,IAGE,SAAF,CAEI,KAFJ,WAGM,OAAN,wBAEI,SALJ,WAMM,OAAN,6BAGE,QAAF,CACI,oBADJ,WAEA,kBACQ,KAAR,aAEQ,KAAR,cAGI,cARJ,WASM,IAAN,qBACQ,MAAR,iBACQ,SAAR,mBAOM,OAJA,KAAN,sBACM,KAAN,mBACM,KAAN,gBAEA,YAEI,iBApBJ,WAqBM,IAAN,qBACQ,KAAR,WACQ,MAAR,iBACQ,SAAR,mBAOM,OAJA,KAAN,sBACM,KAAN,mBACM,KAAN,gBAEA,YAEI,MAjCJ,WAiCM,IAAN,OACM,EAAN,+CACA,qBACU,EAAV,qCAEU,EAAV,6BAII,OA1CJ,WA0CM,IAAN,OACM,EAAN,sCACA,gBACU,EAAV,kCAII,SAjDJ,WAiDM,IAAN,OACM,EAAN,kDACA,eACU,EAAV,4BACU,QAAV,cAEU,EAAV,sBACU,EAAV,wBACU,EAAV,eC/LoW,I,YCOhWC,EAAY,eACd,EACAvC,EACAsC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-2d0ea123.1c48213e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"account-page\"}},[(_vm.user)?_c('div',{staticClass:\"center-align\"},[_c('h2',{attrs:{\"data-test\":\"welcome-message\"}},[_vm._v(\"Hi, \"+_vm._s(_vm.user.name)+\"!\")]),_c('button',{attrs:{\"data-test\":\"logout-button\"},on:{\"click\":_vm.logout}},[_vm._v(\"Logout\")])]):_c('div',{attrs:{\"id\":\"loginForm\"}},[(_vm.loggingIn)?_c('div',[_c('h2',{staticClass:\"center-align\"},[_vm._v(\"Login\")]),_c('div',[_c('label',[_vm._v(\"Email: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.email),expression:\"data.email\"}],attrs:{\"type\":\"text\",\"data-test\":\"email-input\"},domProps:{\"value\":(_vm.data.email)},on:{\"blur\":function($event){return _vm.validateLogin()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"email\", $event.target.value)}}})]),(_vm.errors && 'email' in _vm.errors)?_c('error-field',{staticClass:\"error\",attrs:{\"errors\":_vm.errors.email}}):_vm._e()],1),_c('div',[_c('label',[_vm._v(\"Password: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.password),expression:\"data.password\"}],attrs:{\"type\":\"password\",\"data-test\":\"password-input\"},domProps:{\"value\":(_vm.data.password)},on:{\"blur\":function($event){return _vm.validateLogin()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"password\", $event.target.value)}}})]),(_vm.errors && 'password' in _vm.errors)?_c('error-field',{staticClass:\"error\",attrs:{\"errors\":_vm.errors.password}}):_vm._e()],1),_c('div',{staticClass:\"center-align\"},[_c('button',{attrs:{\"data-test\":\"login-button\"},on:{\"click\":_vm.login}},[_vm._v(\"Login\")])]),(_vm.loginError)?_c('ul',_vm._l((_vm.loginError),function(error,index){return _c('li',{key:index,staticClass:\"error\"},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0):_vm._e(),_c('div',{staticClass:\"center-align\"},[_c('p',[_vm._v(\"Don't have an account?\")]),_c('button',{on:{\"click\":_vm.registerLoginToggle}},[_vm._v(\"Create new account\")])])]):_c('div',[_c('div',{attrs:{\"id\":\"registerForm\"}},[_c('h2',{staticClass:\"center-align\"},[_vm._v(\"Register\")]),_c('div',[_c('label',[_vm._v(\"Name: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.name),expression:\"data.name\"}],attrs:{\"type\":\"text\",\"data-test\":\"name-register-input\"},domProps:{\"value\":(_vm.data.name)},on:{\"blur\":function($event){return _vm.validateRegister()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"name\", $event.target.value)}}})]),(_vm.errors && 'name' in _vm.errors)?_c('error-field',{staticClass:\"error\",attrs:{\"errors\":_vm.errors.name}}):_vm._e()],1),_c('div',[_c('label',[_vm._v(\"Email: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.email),expression:\"data.email\"}],attrs:{\"type\":\"text\",\"data-test\":\"email-register-input\"},domProps:{\"value\":(_vm.data.email)},on:{\"blur\":function($event){return _vm.validateRegister()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"email\", $event.target.value)}}})]),(_vm.errors && 'email' in _vm.errors)?_c('error-field',{staticClass:\"error\",attrs:{\"errors\":_vm.errors.email}}):_vm._e()],1),_c('div',[_c('label',[_vm._v(\"Password: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.password),expression:\"data.password\"}],attrs:{\"type\":\"password\",\"data-test\":\"password-register-input\"},domProps:{\"value\":(_vm.data.password)},on:{\"blur\":function($event){return _vm.validateRegister()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"password\", $event.target.value)}}})]),(_vm.errors && 'password' in _vm.errors)?_c('error-field',{staticClass:\"error\",attrs:{\"errors\":_vm.errors.password}}):_vm._e()],1),_c('div',{staticClass:\"center-align\"},[_c('button',{attrs:{\"data-test\":\"register-button\"},on:{\"click\":_vm.register}},[_vm._v(\"Register\")])]),(_vm.registerError)?_c('ul',_vm._l((_vm.registerError),function(error,index){return _c('li',{key:index,staticClass:\"error\"},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0):_vm._e(),_c('div',{staticClass:\"center-align\"},[_c('p',[_vm._v(\"Already have an account?\")]),_c('button',{on:{\"click\":_vm.registerLoginToggle}},[_vm._v(\"Login with existing account\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"account-page\" v-cloak>\n        <div class=\"center-align\" v-if=\"user\">\n            <h2 data-test=\"welcome-message\">Hi, {{ user.name }}!</h2>\n    \n            <button @click=\"logout\" data-test=\"logout-button\">Logout</button>\n        </div>\n    \n        <div v-else id=\"loginForm\">\n            <div v-if=\"loggingIn\">\n                <h2 class=\"center-align\">Login</h2>\n                <div>\n                    <label>Email:\n                                <input\n                                    type=\"text\"\n                                    data-test=\"email-input\"\n                                    v-model=\"data.email\"\n                                    v-on:blur=\"validateLogin()\"\n                            /></label>\n                    <error-field v-if=\"errors && 'email' in errors\" :errors=\"errors.email\" class=\"error\"></error-field>\n                </div>\n                <div>\n                    <label>Password:\n                                <input\n                                    type=\"password\"\n                                    data-test=\"password-input\"\n                                    v-model=\"data.password\"\n                                    v-on:blur=\"validateLogin()\"\n                            /></label>\n                    <error-field v-if=\"errors && 'password' in errors\" :errors=\"errors.password\" class=\"error\"></error-field>\n                </div>\n    \n                <div class=\"center-align\">\n                    <button @click=\"login\" data-test=\"login-button\">Login</button>\n                </div>\n    \n                <ul v-if=\"loginError\">\n                    <li class=\"error\" v-for=\"(error, index) in loginError\" :key=\"index\">\n                        {{ error }}\n                    </li>\n                </ul>\n    \n                <div class=\"center-align\">\n                    <p>Don't have an account?</p>\n                    <button v-on:click=\"registerLoginToggle\">Create new account</button>\n                </div>\n            </div>\n    \n            <div v-else>\n                <div id=\"registerForm\">\n                    <h2 class=\"center-align\">Register</h2>\n                    <div>\n                        <label>Name:\n                                    <input\n                                        type=\"text\"\n                                        data-test=\"name-register-input\"\n                                        v-model=\"data.name\"\n                                        v-on:blur=\"validateRegister()\"\n                                /></label>\n                        <error-field v-if=\"errors && 'name' in errors\" :errors=\"errors.name\" class=\"error\"></error-field>\n                    </div>\n                    <div>\n                        <label>Email:\n                                    <input\n                                        type=\"text\"\n                                        data-test=\"email-register-input\"\n                                        v-model=\"data.email\"\n                                        v-on:blur=\"validateRegister()\"\n                                /></label>\n                        <error-field v-if=\"errors && 'email' in errors\" :errors=\"errors.email\" class=\"error\"></error-field>\n                    </div>\n                    <div>\n                        <label>Password:\n                                    <input\n                                        type=\"password\"\n                                        data-test=\"password-register-input\"\n                                        v-model=\"data.password\"\n                                        v-on:blur=\"validateRegister()\"\n                                /></label>\n                        <error-field v-if=\"errors && 'password' in errors\" :errors=\"errors.password\" class=\"error\"></error-field>\n                    </div>\n    \n                    <div class=\"center-align\">\n                        <button @click=\"register\" data-test=\"register-button\">Register</button>\n                    </div>\n    \n                    <ul v-if=\"registerError\">\n                        <li class=\"error\" v-for=\"(error, index) in registerError\" :key=\"index\">\n                            {{ error }}\n                        </li>\n                    </ul>\n    \n                    <div class=\"center-align\">\n                        <p>Already have an account?</p>\n                        <button v-on:click=\"registerLoginToggle\">Login with existing account</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from '@/app.js';\nimport Validator from 'validatorjs';\nimport ErrorField from '@/components/ErrorField.vue';\n\nexport default {\n    components: {\n        'error-field': ErrorField,\n    },\n    data() {\n        return {\n            data: {\n                email: 'michaelkchen13@gmail.com',\n                password: '12345678',\n                name: '',\n            },\n            errors: null,\n            registerError: null,\n            loginError: null,\n            favorites: [],\n            loggingIn: true,\n        };\n    },\n    computed: {\n        // Get our user and products state from the Vuex store\n        user() {\n            return this.$store.state.user;\n        },\n        products() {\n            return this.$store.state.products;\n        },\n    },\n    methods: {\n        registerLoginToggle() {\n            if (this.loggingIn == true) {\n                this.loggingIn = false;\n            } else {\n                this.loggingIn = true;\n            }\n        },\n        validateLogin() {\n            let validator = new Validator(this.data, {\n                email: 'required|email',\n                password: 'required|min:8',\n            });\n\n            this.errors = validator.errors.all();\n            this.registerError = null;\n            this.loginError = null;\n\n            return validator.passes();\n        },\n        validateRegister() {\n            let validator = new Validator(this.data, {\n                name: 'required',\n                email: 'required|email',\n                password: 'required|min:8',\n            });\n\n            this.errors = validator.errors.all();\n            this.registerError = null;\n            this.loginError = null;\n\n            return validator.passes();\n        },\n        login() {\n            axios.post('login', this.data).then((response) => {\n                if (response.data.authenticated) {\n                    this.$store.commit('setUser', response.data.user);\n                } else {\n                    this.loginError = response.data.errors;\n                }\n            });\n        },\n        logout() {\n            axios.post('logout').then((response) => {\n                if (response.data.success) {\n                    this.$store.commit('setUser', null);\n                }\n            });\n        },\n        register() {\n            axios.post('register', this.data).then((response) => {\n                if (response.data.errors) {\n                    this.registerError = response.data.errors;\n                    console.log(response.data);\n                } else {\n                    this.registerEmail = this.email\n                    this.registerPass = this.password\n                    this.login()\n                }\n            });\n        },\n    },\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountPage.vue?vue&type=template&id=c200c698&\"\nimport script from \"./AccountPage.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}