(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ea123"],{"8fdc":function(r,t,e){"use strict";e.r(t);var a=function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{attrs:{id:"account-page"}},[r.user?e("div",{staticClass:"center-align"},[e("h2",{attrs:{"data-test":"welcome-message"}},[r._v("Hi, "+r._s(r.user.name)+"!")]),e("button",{attrs:{"data-test":"logout-button"},on:{click:r.logout}},[r._v("Logout")])]):e("div",{attrs:{id:"loginForm"}},[r.loggingIn?e("div",[e("h2",{staticClass:"center-align"},[r._v("Login")]),e("div",[e("label",[r._v("Email: "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"email-input"},domProps:{value:r.data.email},on:{blur:function(t){return r.validateLogin()},input:function(t){t.target.composing||r.$set(r.data,"email",t.target.value)}}})]),r.errors&&"email"in r.errors?e("error-field",{staticClass:"error",attrs:{errors:r.errors.email}}):r._e()],1),e("div",[e("label",[r._v("Password: "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"password-input"},domProps:{value:r.data.password},on:{blur:function(t){return r.validateLogin()},input:function(t){t.target.composing||r.$set(r.data,"password",t.target.value)}}})]),r.errors&&"password"in r.errors?e("error-field",{staticClass:"error",attrs:{errors:r.errors.password}}):r._e()],1),e("div",{staticClass:"center-align"},[e("button",{attrs:{"data-test":"login-button"},on:{click:r.login}},[r._v("Login")])]),r.loginError?e("ul",r._l(r.loginError,(function(t,a){return e("li",{key:a,staticClass:"error"},[r._v(" "+r._s(t)+" ")])})),0):r._e(),e("div",{staticClass:"center-align"},[e("p",[r._v("Don't have an account?")]),e("button",{on:{click:r.registerLoginToggle}},[r._v("Create new account")])])]):e("div",[e("div",{attrs:{id:"registerForm"}},[e("h2",{staticClass:"center-align"},[r._v("Register")]),e("div",[e("label",[r._v("Name: "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.data.name,expression:"data.name"}],attrs:{type:"text","data-test":"name-register-input"},domProps:{value:r.data.name},on:{blur:function(t){return r.validateRegister()},input:function(t){t.target.composing||r.$set(r.data,"name",t.target.value)}}})]),r.errors&&"name"in r.errors?e("error-field",{staticClass:"error",attrs:{errors:r.errors.name}}):r._e()],1),e("div",[e("label",[r._v("Email: "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"email-register-input"},domProps:{value:r.data.email},on:{blur:function(t){return r.validateRegister()},input:function(t){t.target.composing||r.$set(r.data,"email",t.target.value)}}})]),r.errors&&"email"in r.errors?e("error-field",{staticClass:"error",attrs:{errors:r.errors.email}}):r._e()],1),e("div",[e("label",[r._v("Password: "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"password-register-input"},domProps:{value:r.data.password},on:{blur:function(t){return r.validateRegister()},input:function(t){t.target.composing||r.$set(r.data,"password",t.target.value)}}})]),r.errors&&"password"in r.errors?e("error-field",{staticClass:"error",attrs:{errors:r.errors.password}}):r._e()],1),e("div",{staticClass:"center-align"},[e("button",{attrs:{"data-test":"register-button"},on:{click:r.register}},[r._v("Register")])]),r.registerError?e("ul",r._l(r.registerError,(function(t,a){return e("li",{key:a,staticClass:"error"},[r._v(" "+r._s(t)+" ")])})),0):r._e(),e("div",{staticClass:"center-align"},[e("p",[r._v("Already have an account?")]),e("button",{on:{click:r.registerLoginToggle}},[r._v("Login with existing account")])])])])])])},s=[],i=e("1112"),o=e("1c4a"),n=e.n(o),l=e("ad5e"),d={components:{"error-field":l["a"]},data:function(){return{data:{email:"michaelkchen13@gmail.com",password:"12345678",name:""},errors:null,registerError:null,loginError:null,favorites:[],loggingIn:!0}},computed:{user:function(){return this.$store.state.user},products:function(){return this.$store.state.products}},methods:{registerLoginToggle:function(){1==this.loggingIn?this.loggingIn=!1:this.loggingIn=!0},validateLogin:function(){var r=new n.a(this.data,{email:"required|email",password:"required|min:8"});return this.errors=r.errors.all(),this.registerError=null,this.loginError=null,r.passes()},validateRegister:function(){var r=new n.a(this.data,{name:"required",email:"required|email",password:"required|min:8"});return this.errors=r.errors.all(),this.registerError=null,this.loginError=null,r.passes()},login:function(){var r=this;i["a"].post("login",this.data).then((function(t){t.data.authenticated?r.$store.commit("setUser",t.data.user):r.loginError=t.data.errors}))},logout:function(){var r=this;i["a"].post("logout").then((function(t){t.data.success&&r.$store.commit("setUser",null)}))},register:function(){var r=this;i["a"].post("register",this.data).then((function(t){t.data.errors?(r.registerError=t.data.errors,console.log(t.data)):(r.registerEmail=r.email,r.registerPass=r.password,r.login())}))}}},u=d,c=e("2877"),g=Object(c["a"])(u,a,s,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0ea123.1c48213e.js.map