(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ea123"],{"8fdc":function(t,r,e){"use strict";e.r(r);var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"account-page"}},[t.user?e("div",{staticClass:"center-align"},[e("h2",{attrs:{"data-test":"welcome-message"}},[t._v("Hi, "+t._s(t.user.name)+"!")]),e("button",{attrs:{"data-test":"logout-button"},on:{click:t.logout}},[t._v("Logout")])]):e("div",{attrs:{id:"loginForm"}},[t.loggingIn?e("div",[e("h2",{staticClass:"center-align"},[t._v("Login")]),e("div",[e("label",[t._v("Email: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"email-input"},domProps:{value:t.data.email},on:{blur:function(r){return t.validateLogin()},input:function(r){r.target.composing||t.$set(t.data,"email",r.target.value)}}})]),t.errors&&"email"in t.errors?e("error-field",{staticClass:"error",attrs:{errors:t.errors.email}}):t._e()],1),e("div",[e("label",[t._v("Password: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"password-input"},domProps:{value:t.data.password},on:{blur:function(r){return t.validateLogin()},input:function(r){r.target.composing||t.$set(t.data,"password",r.target.value)}}})]),t.errors&&"password"in t.errors?e("error-field",{staticClass:"error",attrs:{errors:t.errors.password}}):t._e()],1),e("div",{staticClass:"center-align"},[e("button",{attrs:{"data-test":"login-button"},on:{click:t.login}},[t._v("Login")])]),t.loginError?e("ul",t._l(t.loginError,(function(r,a){return e("li",{key:a,staticClass:"error"},[t._v(" "+t._s(r)+" ")])})),0):t._e(),e("div",{staticClass:"center-align"},[e("p",[t._v("Don't have an account?")]),e("button",{attrs:{"data-test":"register-toggle-btn"},on:{click:t.registerLoginToggle}},[t._v("Create new account")])])]):e("div",[e("div",{attrs:{id:"registerForm"}},[e("h2",{staticClass:"center-align"},[t._v("Register")]),e("div",[e("label",[t._v("Name: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.name,expression:"data.name"}],attrs:{type:"text","data-test":"name-register-input"},domProps:{value:t.data.name},on:{blur:function(r){return t.validateRegister()},input:function(r){r.target.composing||t.$set(t.data,"name",r.target.value)}}})]),t.errors&&"name"in t.errors?e("error-field",{staticClass:"error",attrs:{errors:t.errors.name}}):t._e()],1),e("div",[e("label",[t._v("Email: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"email-register-input"},domProps:{value:t.data.email},on:{blur:function(r){return t.validateRegister()},input:function(r){r.target.composing||t.$set(t.data,"email",r.target.value)}}})]),t.errors&&"email"in t.errors?e("error-field",{staticClass:"error",attrs:{errors:t.errors.email}}):t._e()],1),e("div",[e("label",[t._v("Password: "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"password-register-input"},domProps:{value:t.data.password},on:{blur:function(r){return t.validateRegister()},input:function(r){r.target.composing||t.$set(t.data,"password",r.target.value)}}})]),t.errors&&"password"in t.errors?e("error-field",{staticClass:"error",attrs:{errors:t.errors.password}}):t._e()],1),e("div",{staticClass:"center-align"},[e("button",{attrs:{"data-test":"register-button"},on:{click:t.register}},[t._v("Register")])]),t.registerError?e("ul",t._l(t.registerError,(function(r,a){return e("li",{key:a,staticClass:"error"},[t._v(" "+t._s(r)+" ")])})),0):t._e(),e("div",{staticClass:"center-align"},[e("p",[t._v("Already have an account?")]),e("button",{attrs:{"data-test":"login-toggle-btn"},on:{click:t.registerLoginToggle}},[t._v("Login with existing account")])])])])])])},s=[],i=e("1112"),o=e("1c4a"),n=e.n(o),l=e("ad5e"),d={components:{"error-field":l["a"]},data:function(){return{data:{email:"michaelkchen13@gmail.com",password:"12345678",name:""},errors:null,registerError:null,loginError:null,favorites:[],loggingIn:!0}},computed:{user:function(){return this.$store.state.user},products:function(){return this.$store.state.products}},methods:{registerLoginToggle:function(){1==this.loggingIn?this.loggingIn=!1:this.loggingIn=!0},validateLogin:function(){var t=new n.a(this.data,{email:"required|email",password:"required|min:8"});return this.errors=t.errors.all(),this.registerError=null,this.loginError=null,t.passes()},validateRegister:function(){var t=new n.a(this.data,{name:"required",email:"required|email",password:"required|min:8"});return this.errors=t.errors.all(),this.registerError=null,this.loginError=null,t.passes()},login:function(){var t=this;i["a"].post("login",this.data).then((function(r){r.data.authenticated?t.$store.commit("setUser",r.data.user):t.loginError=r.data.errors}))},logout:function(){var t=this;i["a"].post("logout").then((function(r){r.data.success&&t.$store.commit("setUser",null)}))},register:function(){var t=this;i["a"].post("register",this.data).then((function(r){r.data.errors?(t.registerError=r.data.errors,console.log(r.data)):(t.registerEmail=t.email,t.registerPass=t.password,t.login())}))}}},u=d,g=e("2877"),c=Object(g["a"])(u,a,s,!1,null,null,null);r["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0ea123.498e8f20.js.map